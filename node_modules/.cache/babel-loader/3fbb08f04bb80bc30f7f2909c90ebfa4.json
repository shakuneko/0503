{"ast":null,"code":"import _slicedToArray from\"C:/Users/yujaa/Desktop/your home/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"C:/Users/yujaa/Desktop/your home/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/yujaa/Desktop/your home/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{createContext,useReducer}from\"react\";import products from\"../json/products.json\";import Cookie from\"js-cookie\";import{SET_PAGE_TITLE,SET_NAVBAR_ACTIVEITEM,ADD_CART_ITEM,REMOVE_CART_ITEM,SET_PRODUCT_DETAIL}from\"../utils/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";export var StoreContext=/*#__PURE__*/createContext();var cartItems=Cookie.getJSON(\"cartItems\");if(!cartItems)cartItems=[];var initialState={page:{title:\"Your Home\",products:products},navBar:{activeItem:\"/\"},cartItems:cartItems};function reducer(state,action){switch(action.type){case SET_PAGE_TITLE:return _objectSpread(_objectSpread({},state),{},{page:_objectSpread(_objectSpread({},state.page),{},{title:action.payload})});case SET_NAVBAR_ACTIVEITEM:return _objectSpread(_objectSpread({},state),{},{navBar:{activeItem:action.payload}});case ADD_CART_ITEM:var item=action.payload;var product=state.cartItems.find(function(x){return x.id===item.id;});if(product){cartItems=state.cartItems.map(function(x){return x.id===product.id?item:x;});return _objectSpread(_objectSpread({},state),{},{cartItems:cartItems});}cartItems=[].concat(_toConsumableArray(state.cartItems),[item]);return _objectSpread(_objectSpread({},state),{},{cartItems:cartItems});case REMOVE_CART_ITEM:cartItems=state.cartItems.filter(function(x){return x.id!==action.payload;});return _objectSpread(_objectSpread({},state),{},{cartItems:cartItems});case SET_PRODUCT_DETAIL:return _objectSpread(_objectSpread({},state),{},{productDetail:action.payload});default:return state;}}export function StoreProvider(props){var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var value={state:state,dispatch:dispatch};return/*#__PURE__*/_jsx(StoreContext.Provider,{value:value,children:props.children});}","map":{"version":3,"sources":["C:/Users/yujaa/Desktop/your home/src/store/index.js"],"names":["createContext","useReducer","products","Cookie","SET_PAGE_TITLE","SET_NAVBAR_ACTIVEITEM","ADD_CART_ITEM","REMOVE_CART_ITEM","SET_PRODUCT_DETAIL","StoreContext","cartItems","getJSON","initialState","page","title","navBar","activeItem","reducer","state","action","type","payload","item","product","find","x","id","map","filter","productDetail","StoreProvider","props","dispatch","value","children"],"mappings":"4cACA,OAASA,aAAT,CAAuBC,UAAvB,KAA0C,OAA1C,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,OACIC,cADJ,CAEIC,qBAFJ,CAGIC,aAHJ,CAIIC,gBAJJ,CAKIC,kBALJ,KAMQ,oBANR,C,2CASC,MAAO,IAAMC,CAAAA,YAAY,cAAGT,aAAa,EAAlC,CACP,GAAIU,CAAAA,SAAS,CAAGP,MAAM,CAACQ,OAAP,CAAe,WAAf,CAAhB,CACA,GAAI,CAACD,SAAL,CAAgBA,SAAS,CAAG,EAAZ,CAEjB,GAAME,CAAAA,YAAY,CAAG,CACjBC,IAAI,CAAE,CACHC,KAAK,CAAE,WADJ,CAEHZ,QAAQ,CAARA,QAFG,CADW,CAKjBa,MAAM,CAAE,CACNC,UAAU,CAAE,GADN,CALS,CAQfN,SAAS,CAATA,SARe,CAArB,CAWC,QAASO,CAAAA,OAAT,CAAiBC,KAAjB,CAAwBC,MAAxB,CAAgC,CAC7B,OAAQA,MAAM,CAACC,IAAf,EACG,IAAKhB,CAAAA,cAAL,CACG,sCACMc,KADN,MAEGL,IAAI,gCACEK,KAAK,CAACL,IADR,MAEDC,KAAK,CAAEK,MAAM,CAACE,OAFb,EAFP,GAOA,IAAKhB,CAAAA,qBAAL,CACE,sCACMa,KADN,MAEGH,MAAM,CAAE,CACLC,UAAU,CAAEG,MAAM,CAACE,OADd,CAFX,GAOA,IAAKf,CAAAA,aAAL,CACI,GAAMgB,CAAAA,IAAI,CAAGH,MAAM,CAACE,OAApB,CACA,GAAME,CAAAA,OAAO,CAAGL,KAAK,CAACR,SAAN,CAAgBc,IAAhB,CAAqB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASJ,IAAI,CAACI,EAArB,EAArB,CAAhB,CACA,GAAIH,OAAJ,CAAa,CACVb,SAAS,CAAGQ,KAAK,CAACR,SAAN,CAAgBiB,GAAhB,CAAoB,SAACF,CAAD,QAC7BA,CAAAA,CAAC,CAACC,EAAF,GAASH,OAAO,CAACG,EAAjB,CAAsBJ,IAAtB,CAA6BG,CADA,EAApB,CAAZ,CAGA,sCAAYP,KAAZ,MAAmBR,SAAS,CAATA,SAAnB,GACF,CACDA,SAAS,8BAAOQ,KAAK,CAACR,SAAb,GAAwBY,IAAxB,EAAT,CACA,sCAAYJ,KAAZ,MAAmBR,SAAS,CAATA,SAAnB,GACH,IAAKH,CAAAA,gBAAL,CACGG,SAAS,CAAGQ,KAAK,CAACR,SAAN,CAAgBkB,MAAhB,CAAuB,SAACH,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASP,MAAM,CAACE,OAAvB,EAAvB,CAAZ,CACA,sCAAYH,KAAZ,MAAmBR,SAAS,CAATA,SAAnB,GACA,IAAKF,CAAAA,kBAAL,CACE,sCAAYU,KAAZ,MAAmBW,aAAa,CAAEV,MAAM,CAACE,OAAzC,GAEL,QACG,MAAOH,CAAAA,KAAP,CAnCZ,CAqCI,CACR,MAAO,SAASY,CAAAA,aAAT,CAAuBC,KAAvB,CAA8B,iBACP9B,UAAU,CAACgB,OAAD,CAAUL,YAAV,CADH,4CAC1BM,KAD0B,iBACnBc,QADmB,iBAEjC,GAAMC,CAAAA,KAAK,CAAG,CAAEf,KAAK,CAALA,KAAF,CAASc,QAAQ,CAARA,QAAT,CAAd,CAED,mBACG,KAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CAAEC,KAA9B,UACIF,KAAK,CAACG,QADV,EADH,CAKD","sourcesContent":["  \r\nimport { createContext,useReducer  } from \"react\";\r\nimport products from \"../json/products.json\"\r\nimport Cookie from \"js-cookie\"\r\nimport { \r\n    SET_PAGE_TITLE,\r\n    SET_NAVBAR_ACTIVEITEM,\r\n    ADD_CART_ITEM,\r\n    REMOVE_CART_ITEM,\r\n    SET_PRODUCT_DETAIL,\r\n } from \"../utils/constants\"\r\n \r\n\r\n export const StoreContext = createContext();\r\n let cartItems = Cookie.getJSON(\"cartItems\");\r\n if (!cartItems) cartItems = [];\r\n\r\nconst initialState = {\r\n    page: {\r\n       title: \"Your Home\",\r\n       products,\r\n    },\r\n    navBar: {\r\n      activeItem: \"/\",\r\n      },\r\n      cartItems,\r\n };\r\n \r\n function reducer(state, action) {\r\n    switch (action.type) {\r\n       case SET_PAGE_TITLE:\r\n          return {\r\n             ...state,\r\n             page: {\r\n                ...state.page,\r\n                title: action.payload,\r\n             },\r\n          };\r\n          case SET_NAVBAR_ACTIVEITEM:\r\n            return {\r\n               ...state,\r\n               navBar: {\r\n                  activeItem: action.payload\r\n               }\r\n            };\r\n\r\n            case ADD_CART_ITEM:\r\n                const item = action.payload;\r\n                const product = state.cartItems.find((x) => x.id === item.id);\r\n                if (product) {\r\n                   cartItems = state.cartItems.map((x) =>\r\n                      x.id === product.id ? item : x\r\n                   );\r\n                   return { ...state, cartItems };\r\n                }\r\n                cartItems = [...state.cartItems, item];\r\n                return { ...state, cartItems };\r\n             case REMOVE_CART_ITEM:\r\n                cartItems = state.cartItems.filter((x) => x.id !== action.payload);\r\n                return { ...state, cartItems };\r\n                case SET_PRODUCT_DETAIL:\r\n                  return { ...state, productDetail: action.payload };\r\n             \r\n             default:\r\n                return state;\r\n          }\r\n       }\r\nexport function StoreProvider(props) {\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n    const value = { state, dispatch };\r\n\r\n   return (\r\n      <StoreContext.Provider value={value}>\r\n         {props.children}\r\n      </StoreContext.Provider>\r\n   );\r\n }"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yujaa\\\\Desktop\\\\yourhome\\\\src\\\\store\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { createContext } from \"react\";\nimport useReducerWithThunk from \"use-reducer-thunk\";\nimport products from \"../json/products.json\";\nimport Cookie from \"js-cookie\";\nimport { SET_PAGE_TITLE, SET_NAVBAR_ACTIVEITEM, ADD_CART_ITEM, REMOVE_CART_ITEM, SET_PRODUCT_DETAIL, BEGIN_LOGIN_REQUEST, SUCCESS_LOGIN_REQUEST, FAIL_LOGIN_REQUEST, LOGOUT_REQUEST, REMEMBER_LOGIN, BEGIN_REGISTER_REQUEST, SUCCESS_REGISTER_REQUEST, FAIL_REGISTER_REQUEST, SAVE_SHIPPING_ADDRESS, BEGIN_ORDER_CREATE, SUCCESS_ORDER_CREATE, FAIL_ORDER_CREATE, BEGIN_ORDER_DETAIL, SUCCESS_ORDER_DETAIL, FAIL_ORDER_DETAIL, BEGIN_UPDATE_USERINFO, SUCCESS_UPDATE_USERINFO, FAIL_UPDATE_USERINFO, SAVE_PAYMENT_METHOD, SEARCH_USER_ORDERS, SUCCESS_SEARCH, FAIL_SEARCH } from \"../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const StoreContext = /*#__PURE__*/createContext();\nlet cartItems = Cookie.getJSON(\"cartItems\") ? JSON.parse(localStorage.getItem(\"cartItems\")) : [];\nlet userInfo;\n\ntry {\n  userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n} catch (e) {\n  userInfo = null;\n}\n\nlet shippingAddress;\n\ntry {\n  shippingAddress = JSON.parse(localStorage.getItem('shippingAddress'));\n} catch (e) {\n  shippingAddress = {};\n}\n\nconst initialState = {\n  page: {\n    title: \"Your Home\",\n    products\n  },\n  navBar: {\n    activeItem: \"/\"\n  },\n  cartItems,\n  productDetail: {\n    product: {\n      image: [],\n      color: []\n    },\n    qty: 1,\n    col: 'None',\n    colNum: 0\n  },\n  userSignin: {\n    loading: false,\n    userInfo,\n    remember: true,\n    error: \"\"\n  },\n  userRegister: {\n    loading: false,\n    userInfo: null,\n    error: \"\"\n  },\n  cart: {\n    cartItems,\n    shippingAddress,\n    paymentMethod: 'Google'\n  }\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case SET_PAGE_TITLE:\n      return { ...state,\n        page: { ...state.page,\n          title: action.payload\n        }\n      };\n\n    case SET_NAVBAR_ACTIVEITEM:\n      return { ...state,\n        navBar: {\n          activeItem: action.payload\n        }\n      };\n\n    case ADD_CART_ITEM:\n      const item = action.payload;\n      const product = state.cartItems.find(x => x.id === item.id);\n\n      if (product) {\n        cartItems = state.cartItems.map(x => x.id === product.id ? item : x);\n        return { ...state,\n          cartItems\n        };\n      }\n\n      cartItems = [...state.cartItems, item];\n      return { ...state,\n        cartItems\n      };\n\n    case REMOVE_CART_ITEM:\n      cartItems = state.cartItems.filter(x => x.id !== action.payload);\n      return { ...state,\n        cartItems\n      };\n\n    case SET_PRODUCT_DETAIL:\n      return { ...state,\n        productDetail: action.payload\n      };\n\n    case BEGIN_LOGIN_REQUEST:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: true\n        }\n      };\n\n    case SUCCESS_LOGIN_REQUEST:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\"\n        }\n      };\n\n    case FAIL_LOGIN_REQUEST:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          userInfo: null,\n          error: action.payload\n        }\n      };\n\n    case LOGOUT_REQUEST:\n      cartItems = [];\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          userInfo: null\n        }\n      };\n\n    case REMEMBER_LOGIN:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          remember: action.payload\n        }\n      };\n\n    case BEGIN_REGISTER_REQUEST:\n      return { ...state,\n        userRegister: { ...state.userRegister,\n          loading: true\n        }\n      };\n\n    case SUCCESS_REGISTER_REQUEST:\n      return { ...state,\n        userRegister: { ...state.userRegister,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\"\n        },\n        userSignin: { ...state.userSignin,\n          userInfo: action.payload\n        }\n      };\n\n    case FAIL_REGISTER_REQUEST:\n      return { ...state,\n        userRegister: { ...state.userRegister,\n          loading: false,\n          userInfo: null,\n          error: action.payload\n        }\n      };\n\n    case SAVE_SHIPPING_ADDRESS:\n      console.log('action.payload.shippingAddress = ');\n      console.log(action.payload);\n      return { ...state,\n        cart: { ...state.cart,\n          shippingAddress: action.payload\n        }\n      };\n\n    case SAVE_PAYMENT_METHOD:\n      return { ...state,\n        cart: { ...state.cart,\n          paymentMethod: action.payload\n        }\n      };\n\n    case BEGIN_ORDER_CREATE:\n      return { ...state,\n        orderInfo: { ...state.orderInfo,\n          loading: true,\n          success: false\n        }\n      };\n\n    case SUCCESS_ORDER_CREATE:\n      return { ...state,\n        orderInfo: { ...state.orderInfo,\n          loading: false,\n          order: action.payload,\n          success: true,\n          error: null\n        }\n      };\n\n    case FAIL_ORDER_CREATE:\n      return { ...state,\n        orderInfo: { ...state.orderInfo,\n          loading: false,\n          order: {\n            id: \"\"\n          },\n          success: false,\n          error: action.payload\n        }\n      };\n\n    case BEGIN_ORDER_DETAIL:\n      return { ...state,\n        orderDetail: { ...state.orderDetail,\n          loading: true\n        }\n      };\n\n    case SUCCESS_ORDER_DETAIL:\n      return { ...state,\n        orderDetail: { ...state.orderDetail,\n          loading: false,\n          order: action.payload\n        }\n      };\n\n    case FAIL_ORDER_DETAIL:\n      return { ...state,\n        orderDetail: { ...state.orderDetail,\n          loading: false,\n          error: action.payload\n        }\n      };\n\n    case BEGIN_UPDATE_USERINFO:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: true\n        }\n      };\n\n    case SUCCESS_UPDATE_USERINFO:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\"\n        }\n      };\n\n    case FAIL_UPDATE_USERINFO:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          error: action.payload\n        }\n      };\n\n    case SEARCH_USER_ORDERS:\n      return { ...state,\n        userOrders: { ...state.userOrders,\n          loading: true\n        }\n      };\n\n    case SUCCESS_SEARCH:\n      return { ...state,\n        userOrders: { ...state.userOrders,\n          loading: false,\n          orders: action.payload,\n          error: \"\"\n        }\n      };\n\n    case FAIL_SEARCH:\n      return { ...state,\n        userOrders: { ...state.userOrders,\n          loading: false,\n          error: action.payload\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport function StoreProvider(props) {\n  _s();\n\n  const [state, dispatch] = useReducerWithThunk(reducer, initialState, \"example\");\n  const value = {\n    state,\n    dispatch\n  };\n  return /*#__PURE__*/_jsxDEV(StoreContext.Provider, {\n    value: value,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 7\n  }, this);\n}\n\n_s(StoreProvider, \"P0eKCI6WtpOvzqf1JEHAprAawWs=\", false, function () {\n  return [useReducerWithThunk];\n});\n\n_c = StoreProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreProvider\");","map":{"version":3,"sources":["C:/Users/yujaa/Desktop/yourhome/src/store/index.js"],"names":["createContext","useReducerWithThunk","products","Cookie","SET_PAGE_TITLE","SET_NAVBAR_ACTIVEITEM","ADD_CART_ITEM","REMOVE_CART_ITEM","SET_PRODUCT_DETAIL","BEGIN_LOGIN_REQUEST","SUCCESS_LOGIN_REQUEST","FAIL_LOGIN_REQUEST","LOGOUT_REQUEST","REMEMBER_LOGIN","BEGIN_REGISTER_REQUEST","SUCCESS_REGISTER_REQUEST","FAIL_REGISTER_REQUEST","SAVE_SHIPPING_ADDRESS","BEGIN_ORDER_CREATE","SUCCESS_ORDER_CREATE","FAIL_ORDER_CREATE","BEGIN_ORDER_DETAIL","SUCCESS_ORDER_DETAIL","FAIL_ORDER_DETAIL","BEGIN_UPDATE_USERINFO","SUCCESS_UPDATE_USERINFO","FAIL_UPDATE_USERINFO","SAVE_PAYMENT_METHOD","SEARCH_USER_ORDERS","SUCCESS_SEARCH","FAIL_SEARCH","StoreContext","cartItems","getJSON","JSON","parse","localStorage","getItem","userInfo","e","shippingAddress","initialState","page","title","navBar","activeItem","productDetail","product","image","color","qty","col","colNum","userSignin","loading","remember","error","userRegister","cart","paymentMethod","reducer","state","action","type","payload","item","find","x","id","map","filter","console","log","orderInfo","success","order","orderDetail","userOrders","orders","StoreProvider","props","dispatch","value","children"],"mappings":"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","sourcesContent":["import { createContext } from \"react\";\nimport useReducerWithThunk from \"use-reducer-thunk\";\nimport products from \"../json/products.json\"\nimport Cookie from \"js-cookie\"\nimport { \n   SET_PAGE_TITLE,\n   SET_NAVBAR_ACTIVEITEM,\n   ADD_CART_ITEM,\n   REMOVE_CART_ITEM,\n   SET_PRODUCT_DETAIL,\n\n   BEGIN_LOGIN_REQUEST,\n   SUCCESS_LOGIN_REQUEST,\n   FAIL_LOGIN_REQUEST,\n   LOGOUT_REQUEST,\n   REMEMBER_LOGIN,\n\n   BEGIN_REGISTER_REQUEST,\n   SUCCESS_REGISTER_REQUEST,\n   FAIL_REGISTER_REQUEST,\n\n   SAVE_SHIPPING_ADDRESS,\n\n   BEGIN_ORDER_CREATE,\n   SUCCESS_ORDER_CREATE,\n   FAIL_ORDER_CREATE,\n\n   BEGIN_ORDER_DETAIL,\n   SUCCESS_ORDER_DETAIL,\n   FAIL_ORDER_DETAIL,\n\n   BEGIN_UPDATE_USERINFO,\n   SUCCESS_UPDATE_USERINFO,\n   FAIL_UPDATE_USERINFO,\n\n   SAVE_PAYMENT_METHOD,\n\n   SEARCH_USER_ORDERS,\n   SUCCESS_SEARCH,\n   FAIL_SEARCH,\n } from \"../utils/constants\"\n \n\n export const StoreContext = createContext();\n let cartItems = Cookie.getJSON(\"cartItems\")\n ? JSON.parse(localStorage.getItem(\"cartItems\"))\n  : [];\n\n  let userInfo;\ntry {\n  userInfo =  JSON.parse(localStorage.getItem(\"userInfo\"));\n} catch(e) {\n  userInfo = null;\n}\n\nlet shippingAddress;\ntry {\n  shippingAddress = JSON.parse(localStorage.getItem('shippingAddress'));\n} catch(e) {\n  shippingAddress = {};\n}\n\nconst initialState = {\n    page: {\n       title: \"Your Home\",\n       products,\n    },\n    navBar: {\n      activeItem: \"/\",\n      },\n      cartItems,\n      productDetail: {\n      product: {\n         image:[],\n         color:[]\n      },\n      qty: 1,\n      col:'None',\n      colNum:0\n  },\n      userSignin: {\n         loading: false,\n         userInfo,\n         remember: true,\n         error: \"\",\n      },\n      userRegister: {\n         loading: false,\n         userInfo: null,\n         error: \"\",\n      },\n      cart: {\n      cartItems,\n      shippingAddress,\n      paymentMethod: 'Google',\n   },\n };\n \n function reducer(state, action) {\n    switch (action.type) {\n       case SET_PAGE_TITLE:\n          return {\n             ...state,\n             page: {\n                ...state.page,\n                title: action.payload,\n             },\n          };\n          case SET_NAVBAR_ACTIVEITEM:\n            return {\n               ...state,\n               navBar: {\n                  activeItem: action.payload\n               }\n            };\n\n            case ADD_CART_ITEM:\n                const item = action.payload;\n                const product = state.cartItems.find((x) => x.id === item.id);\n                if (product) {\n                   cartItems = state.cartItems.map((x) =>\n                      x.id === product.id ? item : x\n                   );\n                   return { ...state, cartItems };\n                }\n                cartItems = [...state.cartItems, item];\n                return { ...state, cartItems };\n             case REMOVE_CART_ITEM:\n                cartItems = state.cartItems.filter((x) => x.id !== action.payload);\n                return { ...state, cartItems };\n               case SET_PRODUCT_DETAIL:\n                  return { ...state, productDetail:action.payload };\n                  \n         case BEGIN_LOGIN_REQUEST:\n            return { ...state, userSignin: { ...state.userSignin, loading: true } };\n            case SUCCESS_LOGIN_REQUEST:\n            return {\n               ...state,\n               userSignin: {\n                  ...state.userSignin,\n                  loading: false,\n                  userInfo: action.payload,\n                  error: \"\",\n               },\n            };\n            case FAIL_LOGIN_REQUEST:\n            return {\n               ...state,\n               userSignin: {\n                  ...state.userSignin,\n                  loading: false,\n                  userInfo: null,\n                  error: action.payload,\n               },\n            };\n            case LOGOUT_REQUEST:\n               cartItems = [];\n               return {\n                  ...state,\n                  userSignin: {\n                     ...state.userSignin,\n                     userInfo: null,\n                  },\n               };\n               case REMEMBER_LOGIN:\n               return {\n                  ...state,\n                  userSignin: {\n                     ...state.userSignin,\n                     remember: action.payload,\n                  },\n               };\n         \n         \n         case BEGIN_REGISTER_REQUEST:\n            return {\n               ...state,\n               userRegister: { ...state.userRegister, loading: true },\n            };\n            case SUCCESS_REGISTER_REQUEST:\n            return {\n               ...state,\n               userRegister: {\n                  ...state.userRegister,\n                  loading: false,\n                  userInfo: action.payload,\n                  error: \"\",\n               },\n               userSignin: {\n                  ...state.userSignin,\n                  userInfo: action.payload,\n               },\n            };\n            case FAIL_REGISTER_REQUEST:\n            return {\n               ...state,\n               userRegister: {\n                  ...state.userRegister,\n                  loading: false,\n                  userInfo: null,\n                  error: action.payload,\n               },\n            };\n            case SAVE_SHIPPING_ADDRESS:\n               console.log('action.payload.shippingAddress = ')\n               console.log(action.payload)\n               return { ...state, cart: { ...state.cart, shippingAddress: action.payload } };\n            case SAVE_PAYMENT_METHOD:\n               return { ...state, cart: { ...state.cart, paymentMethod: action.payload } };   \n               \n            case BEGIN_ORDER_CREATE:\n            return {\n            ...state,\n            orderInfo: {\n               ...state.orderInfo,\n               loading: true,\n               success: false,\n               }\n            };\n         case SUCCESS_ORDER_CREATE:\n            return {\n            ...state,\n            orderInfo: {\n               ...state.orderInfo,\n               loading: false,\n               order: action.payload,\n               success: true,\n               error: null,\n               },\n            };\n         case FAIL_ORDER_CREATE:\n            return {\n            ...state,\n            orderInfo: {\n               ...state.orderInfo,\n               loading: false,\n               order: { id: \"\" },\n               success: false,\n               error: action.payload,\n               },\n            };\n\n            case BEGIN_ORDER_DETAIL:\n               return {\n                 ...state,\n                 orderDetail: {\n                   ...state.orderDetail,\n                   loading: true,\n                 }\n               };\n             \n             case SUCCESS_ORDER_DETAIL:\n               return {\n                 ...state,\n                 orderDetail: {\n                   ...state.orderDetail,\n                   loading: false,\n                   order: action.payload,\n                 },\n               };\n             case FAIL_ORDER_DETAIL:\n               return {\n                 ...state,\n                 orderDetail: {\n                   ...state.orderDetail,\n                   loading: false,\n                   error: action.payload,\n                 },\n               };\n\n            case BEGIN_UPDATE_USERINFO:\n               return { ...state, userSignin: { ...state.userSignin, loading: true } };\n            case SUCCESS_UPDATE_USERINFO:\n               return {\n               ...state,\n               userSignin: {\n                  ...state.userSignin,\n                  loading: false,\n                  userInfo: action.payload,\n                  error: \"\",\n               },\n               };\n            case FAIL_UPDATE_USERINFO:\n               return {\n               ...state,\n               userSignin: {\n                  ...state.userSignin,\n                  loading: false,\n                  error: action.payload,\n               },\n               };\n               case SEARCH_USER_ORDERS:\n                  return {\n                  ...state,\n                  userOrders: { ...state.userOrders, loading: true },\n                  };\n               case SUCCESS_SEARCH:\n                  return {\n                  ...state,\n                  userOrders: { \n                     ...state.userOrders,\n                     loading: false,\n                     orders: action.payload,\n                     error: \"\",\n                  },\n                  };\n                  \n               case FAIL_SEARCH: \n                  return {\n                  ...state,\n                  userOrders: { \n                     ...state.userOrders,\n                     loading: false,\n                     error: action.payload,\n                  },\n                  };\n\n            default:\n            return state;\n          }\n       }\nexport function StoreProvider(props) {\n   const [state, dispatch] = useReducerWithThunk(\n      reducer,\n      initialState,\n      \"example\"\n    );\n    const value = { state, dispatch };\n\n   return (\n      <StoreContext.Provider value={value}>\n         {props.children}\n      </StoreContext.Provider>\n   );\n }"]},"metadata":{},"sourceType":"module"}
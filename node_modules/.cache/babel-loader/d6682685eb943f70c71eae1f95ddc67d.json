{"ast":null,"code":"import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport products from \"../json/products.json\";\nimport inspirations from \"../json/inspirations.json\";\nimport shop from \"../json/shop.json\";\nimport designers from \"../json/designers.json\";\nimport aboutus from \"../json/aboutus.json\";\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECTID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APPID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENTID\n};\nfirebase.initializeApp(firebaseConfig);\nconst allOrdersCollectionRef = firebase.firestore().collection(\"allOrders\");\nexport const getJSON = url => {\n  switch (url) {\n    case \"/\":\n      return products;\n\n    case \"/inspirations\":\n      return inspirations;\n\n    case \"/shop\":\n      return shop;\n\n    case \"/designers\":\n      return designers;\n\n    case \"/about-us\":\n      return aboutus;\n\n    default:\n      return products;\n  }\n};\nconst auth = firebase.auth();\nconst productsCollectionRef = firebase.firestore().collection(\"products\");\nconst productsDocRef = productsCollectionRef.doc(\"json\");\nconst allProductsCollectionRef = productsDocRef.collection(\"allProducts\"); // const allOrdersCollectionRef = firebase.firestore().collection(\"allOrders\");\n// export const getProductById = async (productId) => {\n//   // REFERENCE PRODUCTS COLLECTION\n//   const doc = await allProductsCollectionRef.doc(productId).get();\n//   return doc.data()\n// }\n\nexport const postChatContent = (senderName, message) => {\n  // REFERENCE CHATROOM DOCUMENT\n  let chatroomDocRef = firebase.firestore().collection(\"chatrooms\").doc(\"chatroom2\"); // REFERENCE CHATROOM MESSAGES\n\n  let messagesCollectionRef = chatroomDocRef.collection(\"messages\");\n  messagesCollectionRef.add({\n    senderName,\n    message,\n    timeStamp: Date.now()\n  });\n};\nexport const authenticateAnonymously = () => {\n  return firebase.auth().signInAnonymously();\n};\nexport const signInWithEmailPassword = async (email, password) => {\n  return await auth.signInWithEmailAndPassword(email, password);\n};\nexport const registerWithEmailPassword = async (email, password, displayName) => {\n  await auth.createUserWithEmailAndPassword(email, password);\n  const user = auth.currentUser;\n  await user.updateProfile({\n    displayName\n  });\n  return user;\n};\nexport const createOrderApi = async order => {\n  const user = auth.currentUser.uid;\n  const orderRef = await allOrdersCollectionRef.doc();\n  const id = orderRef.id; // Store Data for Aggregation Queries\n\n  await orderRef.set({ ...order,\n    id,\n    user\n  });\n  return { ...order,\n    id\n  };\n};\nexport const getOrderById = async orderId => {\n  const doc = await allOrdersCollectionRef.doc(orderId).get();\n  return doc.data();\n};\nexport const updateUserInfoApi = async (email, password, displayName) => {\n  const user = auth.currentUser;\n  if (displayName) await user.updateProfile({\n    displayName\n  });\n  if (email) await user.updateEmail(String(email));\n  if (password) await user.updatePassword(password);\n  return user;\n};\nexport const checkLoginApi = () => {\n  const user = auth.currentUser;\n  return user.uid ? true : false;\n};\nexport const getOrderByUser = async () => {\n  const user = auth.currentUser.uid;\n  let jsonOrders = []; // QUERY Orders\n\n  const querySnapshot = await allOrdersCollectionRef.where(\"user\", \"==\", user).get();\n  querySnapshot.forEach(doc => {\n    jsonOrders.push(doc.data());\n  });\n  return jsonOrders;\n};\nexport const signOut = () => {\n  auth.signOut();\n};","map":{"version":3,"sources":["C:/Users/yujaa/Desktop/yourhome/src/api/index.js"],"names":["firebase","products","inspirations","shop","designers","aboutus","firebaseConfig","apiKey","process","env","REACT_APP_FIREBASE_API_KEY","authDomain","REACT_APP_FIREBASE_AUTH_DOMAIN","databaseURL","REACT_APP_FIREBASE_DATABASE_URL","projectId","REACT_APP_FIREBASE_PROJECTID","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","REACT_APP_FIREBASE_MESSAGING_SENDER_ID","appId","REACT_APP_FIREBASE_APPID","measurementId","REACT_APP_FIREBASE_MEASUREMENTID","initializeApp","allOrdersCollectionRef","firestore","collection","getJSON","url","auth","productsCollectionRef","productsDocRef","doc","allProductsCollectionRef","postChatContent","senderName","message","chatroomDocRef","messagesCollectionRef","add","timeStamp","Date","now","authenticateAnonymously","signInAnonymously","signInWithEmailPassword","email","password","signInWithEmailAndPassword","registerWithEmailPassword","displayName","createUserWithEmailAndPassword","user","currentUser","updateProfile","createOrderApi","order","uid","orderRef","id","set","getOrderById","orderId","get","data","updateUserInfoApi","updateEmail","String","updatePassword","checkLoginApi","getOrderByUser","jsonOrders","querySnapshot","where","forEach","push","signOut"],"mappings":"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","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nimport products from \"../json/products.json\";\nimport inspirations from \"../json/inspirations.json\";\nimport shop from \"../json/shop.json\";\nimport designers from \"../json/designers.json\";\nimport aboutus from \"../json/aboutus.json\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECTID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APPID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENTID\n\n};\n\nfirebase.initializeApp(firebaseConfig);\nconst allOrdersCollectionRef = firebase.firestore().collection(\"allOrders\");\n\nexport const getJSON = (url) => {\n  switch (url) {\n    case \"/\":\n      return products;\n    case \"/inspirations\":\n      return inspirations;\n    case \"/shop\":\n      return shop;\n    case \"/designers\":\n      return designers;\n    case \"/about-us\":\n      return aboutus;\n    default:\n      return products;\n  }\n};\n\nconst auth = firebase.auth();\n\nconst productsCollectionRef = firebase.firestore().collection(\"products\");\nconst productsDocRef = productsCollectionRef.doc(\"json\");\nconst allProductsCollectionRef = productsDocRef.collection(\"allProducts\");\n// const allOrdersCollectionRef = firebase.firestore().collection(\"allOrders\");\n\n\n// export const getProductById = async (productId) => {\n//   // REFERENCE PRODUCTS COLLECTION\n//   const doc = await allProductsCollectionRef.doc(productId).get();\n//   return doc.data()\n// }\n\nexport const postChatContent = (senderName, message) => {\n  // REFERENCE CHATROOM DOCUMENT\n  let chatroomDocRef = firebase.firestore()\n    .collection(\"chatrooms\")\n    .doc(\"chatroom2\");\n  // REFERENCE CHATROOM MESSAGES\n  let messagesCollectionRef = chatroomDocRef.collection(\"messages\");\n  messagesCollectionRef.add({\n    senderName,\n    message,\n    timeStamp: Date.now(),\n  });\n}\n\nexport const authenticateAnonymously = () => {\n  return firebase.auth().signInAnonymously();\n};\n\n\n\nexport const signInWithEmailPassword = async (email, password) => {\n  return await auth.signInWithEmailAndPassword(email, password);\n}\n\nexport const registerWithEmailPassword = async (email, password, displayName) => {\n  await auth.createUserWithEmailAndPassword(email, password);\n  const user = auth.currentUser;\n  await user.updateProfile({ displayName })\n  return user;\n}\n\n\n\nexport const createOrderApi = async (order) => {\n  const user = auth.currentUser.uid;\n  const orderRef = await allOrdersCollectionRef.doc();\n  const id = orderRef.id;\n  // Store Data for Aggregation Queries\n  await orderRef.set({\n    ...order,\n    id,\n    user\n  });\n  return { ...order, id };\n\n}\n\nexport const getOrderById = async (orderId) => {\n  const doc = await allOrdersCollectionRef.doc(orderId).get();\n  return doc.data()\n}\n\nexport const updateUserInfoApi = async (email, password, displayName) => {\n  const user = auth.currentUser;\n  if(displayName)\n    await user.updateProfile({ displayName });\n  if(email)\n    await user.updateEmail(String(email));\n  if(password)\n    await user.updatePassword(password);\n  return user;\n}\nexport const checkLoginApi = () => {\n  const user = auth.currentUser;\n  return user.uid?  true : false;\n}\n\nexport const getOrderByUser = async () => {\n  const user = auth.currentUser.uid;\n  let jsonOrders = [];\n\n  // QUERY Orders\n  const querySnapshot = await allOrdersCollectionRef.where(\"user\", \"==\", user).get();\n  querySnapshot.forEach((doc) => {\n    jsonOrders.push(doc.data());\n  });\n  return jsonOrders;\n}\n\nexport const signOut = () => {\n  auth.signOut();\n}"]},"metadata":{},"sourceType":"module"}
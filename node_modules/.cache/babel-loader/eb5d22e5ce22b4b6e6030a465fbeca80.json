{"ast":null,"code":"import { SET_PAGE_CONTENT, SET_NAVBAR_ACTIVEITEM, ADD_CART_ITEM, REMOVE_CART_ITEM, SET_PRODUCT_DETAIL } from \"../utils/constants\";\nimport products from \"../json/products.json\";\nexport const addCartItem = (dispatch, product, qty, col, colNum) => {\n  const item = {\n    id: product.id,\n    name: product.name,\n    image: product.image,\n    price: product.price,\n    author: product.author,\n    countInStock: product.countInStock,\n    qty,\n    col,\n    colNum\n  };\n  dispatch({\n    type: ADD_CART_ITEM,\n    payload: item\n  });\n};\nexport const removeCartItem = (dispatch, productId) => {\n  dispatch({\n    type: REMOVE_CART_ITEM,\n    payload: productId\n  });\n};\nexport const setProductDetail = (dispatch, productId, qty, col, colNum) => {\n  const product = products.find(x => x.id === productId);\n  if (qty === 0 && product.countInStock > 0) qty = 1;\n  if (col === \"\") col = \"None\";\n  dispatch({\n    type: SET_PRODUCT_DETAIL,\n    payload: {\n      product,\n      qty,\n      col,\n      colNum\n    }\n  });\n};\nexport const pageContentsSet = (dispatch, title, products) => {\n  dispatch({\n    type: SET_PAGE_CONTENT,\n    payload: {\n      title,\n      products\n    }\n  });\n};\nexport const activeNavItemSet = (dispatch, activeNavItem) => {\n  dispatch({\n    type: SET_NAVBAR_ACTIVEITEM,\n    payload: activeNavItem\n  });\n};\nexport const loginToFirebase = async (dispatch, userInfo) => {\n  dispatch({\n    type: BEGIN_LOGIN_REQUEST\n  });\n\n  try {\n    const user = await signInWithEmailPassword(userInfo.email, userInfo.password);\n    dispatch({\n      type: SUCCESS_LOGIN_REQUEST,\n      payload: user.user.providerData[0]\n    });\n    return user;\n  } catch (e) {\n    dispatch({\n      type: FAIL_LOGIN_REQUEST,\n      payload: e.message\n    });\n    console.log(e);\n    return null;\n  }\n};\nexport const checkLogin = dispatch => {\n  const isLogin = checkLoginApi();\n\n  if (!isLogin) {\n    localStorage.removeItem('orderInfo');\n    dispatch({\n      type: LOGOUT_REQUEST\n    });\n  }\n\n  return isLogin;\n};","map":{"version":3,"sources":["C:/Users/yujaa/Desktop/yourhome/src/action/index.js"],"names":["SET_PAGE_CONTENT","SET_NAVBAR_ACTIVEITEM","ADD_CART_ITEM","REMOVE_CART_ITEM","SET_PRODUCT_DETAIL","products","addCartItem","dispatch","product","qty","col","colNum","item","id","name","image","price","author","countInStock","type","payload","removeCartItem","productId","setProductDetail","find","x","pageContentsSet","title","activeNavItemSet","activeNavItem","loginToFirebase","userInfo","BEGIN_LOGIN_REQUEST","user","signInWithEmailPassword","email","password","SUCCESS_LOGIN_REQUEST","providerData","e","FAIL_LOGIN_REQUEST","message","console","log","checkLogin","isLogin","checkLoginApi","localStorage","removeItem","LOGOUT_REQUEST"],"mappings":"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","sourcesContent":["import {\n  SET_PAGE_CONTENT,\n  SET_NAVBAR_ACTIVEITEM,\n  ADD_CART_ITEM,\n  REMOVE_CART_ITEM,\n  SET_PRODUCT_DETAIL,\n} from \"../utils/constants\";\n\nimport products from \"../json/products.json\";\n\nexport const addCartItem = (dispatch, product, qty,col,colNum) => {\n  const item = {\n    id: product.id,\n    name: product.name,\n    image: product.image,\n    price: product.price,\n    author:product.author,\n    countInStock: product.countInStock,\n    qty,\n    col,\n    colNum\n  };\n  dispatch({\n    type: ADD_CART_ITEM,\n    payload: item,\n  });\n};\n\nexport const removeCartItem = (dispatch, productId) => {\n  dispatch({\n    type: REMOVE_CART_ITEM,\n    payload: productId,\n  });\n};\n\n\nexport const setProductDetail = (dispatch, productId, qty,col,colNum) => {\n  const product = products.find(\n    x => x.id === productId\n  );\n  \n  if(qty === 0 && product.countInStock >0)\n      qty = 1;\n      if(col===\"\")col=\"None\";\n\n  dispatch({\n    type: SET_PRODUCT_DETAIL,\n    payload: {\n      product,\n      qty,\n      col,\n      colNum\n    }\n  })\n}\n\n\nexport const pageContentsSet = (dispatch, title, products) => {\n  dispatch({\n    type: SET_PAGE_CONTENT,\n    payload: { title, products },\n  });\n};\n\nexport const activeNavItemSet = (dispatch, activeNavItem) => {\n  dispatch({\n    type: SET_NAVBAR_ACTIVEITEM,\n    payload: activeNavItem,\n  });\n};\n\n\nexport const loginToFirebase = async (dispatch, userInfo) => {\n  dispatch({ type: BEGIN_LOGIN_REQUEST });\n  try {\n    const user = await signInWithEmailPassword(userInfo.email, userInfo.password);\n    dispatch({\n      type: SUCCESS_LOGIN_REQUEST,\n      payload: user.user.providerData[0],\n    })\n    return user;\n  } catch (e) {\n    dispatch({\n      type: FAIL_LOGIN_REQUEST,\n      payload: e.message\n    })\n    console.log(e)\n    return null;\n  }\n}\n\nexport const checkLogin = (dispatch) => {\n  const isLogin = checkLoginApi();\n  if(!isLogin) {\n    localStorage.removeItem('orderInfo')\n    dispatch({ type: LOGOUT_REQUEST });    \n  }\n  return isLogin;\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yujaa\\\\Desktop\\\\yourhome\\\\src\\\\store\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport { createContext } from \"react\";\nimport useReducerWithThunk from \"use-reducer-thunk\";\nimport products from \"../json/products.json\";\nimport Cookie from \"js-cookie\";\nimport { SET_PAGE_TITLE, SET_NAVBAR_ACTIVEITEM, ADD_CART_ITEM, REMOVE_CART_ITEM, SET_PRODUCT_DETAIL, BEGIN_LOGIN_REQUEST, SUCCESS_LOGIN_REQUEST, FAIL_LOGIN_REQUEST, LOGOUT_REQUEST, REMEMBER_LOGIN, BEGIN_REGISTER_REQUEST, SUCCESS_REGISTER_REQUEST, FAIL_REGISTER_REQUEST, SAVE_SHIPPING_ADDRESS } from \"../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const StoreContext = /*#__PURE__*/createContext();\nlet cartItems = Cookie.getJSON(\"cartItems\") ? JSON.parse(localStorage.getItem(\"cartItems\")) : [];\nconst initialState = {\n  page: {\n    title: \"Your Home\",\n    products\n  },\n  navBar: {\n    activeItem: \"/\"\n  },\n  cartItems,\n  productDetail: {\n    product: {\n      image: [],\n      color: []\n    },\n    qty: 1,\n    col: 'None',\n    colNum: 0\n  }\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case SET_PAGE_TITLE:\n      return { ...state,\n        page: { ...state.page,\n          title: action.payload\n        }\n      };\n\n    case SET_NAVBAR_ACTIVEITEM:\n      return { ...state,\n        navBar: {\n          activeItem: action.payload\n        }\n      };\n\n    case ADD_CART_ITEM:\n      const item = action.payload;\n      const product = state.cartItems.find(x => x.id === item.id);\n\n      if (product) {\n        cartItems = state.cartItems.map(x => x.id === product.id ? item : x);\n        return { ...state,\n          cartItems\n        };\n      }\n\n      cartItems = [...state.cartItems, item];\n      return { ...state,\n        cartItems\n      };\n\n    case REMOVE_CART_ITEM:\n      cartItems = state.cartItems.filter(x => x.id !== action.payload);\n      return { ...state,\n        cartItems\n      };\n\n    case SET_PRODUCT_DETAIL:\n      return { ...state,\n        productDetail: action.payload\n      };\n\n    case BEGIN_LOGIN_REQUEST:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: true\n        }\n      };\n\n    case SUCCESS_LOGIN_REQUEST:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\"\n        }\n      };\n\n    case FAIL_LOGIN_REQUEST:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          loading: false,\n          userInfo: null,\n          error: action.payload\n        }\n      };\n\n    case LOGOUT_REQUEST:\n      cartItems = [];\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          userInfo: null\n        }\n      };\n\n    case REMEMBER_LOGIN:\n      return { ...state,\n        userSignin: { ...state.userSignin,\n          remember: action.payload\n        }\n      };\n\n    case BEGIN_REGISTER_REQUEST:\n      return { ...state,\n        userRegister: { ...state.userRegister,\n          loading: true\n        }\n      };\n\n    case SUCCESS_REGISTER_REQUEST:\n      return { ...state,\n        userRegister: { ...state.userRegister,\n          loading: false,\n          userInfo: action.payload,\n          error: \"\"\n        },\n        userSignin: { ...state.userSignin,\n          userInfo: action.payload\n        }\n      };\n\n    case FAIL_REGISTER_REQUEST:\n      return { ...state,\n        userRegister: { ...state.userRegister,\n          loading: false,\n          userInfo: null,\n          error: action.payload\n        }\n      };\n\n    case SAVE_SHIPPING_ADDRESS:\n      console.log('action.payload.shippingAddress = ');\n      console.log(action.payload);\n      return { ...state,\n        cart: { ...state.cart,\n          shippingAddress: action.payload\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport function StoreProvider(props) {\n  _s();\n\n  const [state, dispatch] = useReducerWithThunk(reducer, initialState, \"example\");\n  const value = {\n    state,\n    dispatch\n  };\n  return /*#__PURE__*/_jsxDEV(StoreContext.Provider, {\n    value: value,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 7\n  }, this);\n}\n\n_s(StoreProvider, \"P0eKCI6WtpOvzqf1JEHAprAawWs=\", false, function () {\n  return [useReducerWithThunk];\n});\n\n_c = StoreProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"StoreProvider\");","map":{"version":3,"sources":["C:/Users/yujaa/Desktop/yourhome/src/store/index.js"],"names":["createContext","useReducerWithThunk","products","Cookie","SET_PAGE_TITLE","SET_NAVBAR_ACTIVEITEM","ADD_CART_ITEM","REMOVE_CART_ITEM","SET_PRODUCT_DETAIL","BEGIN_LOGIN_REQUEST","SUCCESS_LOGIN_REQUEST","FAIL_LOGIN_REQUEST","LOGOUT_REQUEST","REMEMBER_LOGIN","BEGIN_REGISTER_REQUEST","SUCCESS_REGISTER_REQUEST","FAIL_REGISTER_REQUEST","SAVE_SHIPPING_ADDRESS","StoreContext","cartItems","getJSON","JSON","parse","localStorage","getItem","initialState","page","title","navBar","activeItem","productDetail","product","image","color","qty","col","colNum","reducer","state","action","type","payload","item","find","x","id","map","filter","userSignin","loading","userInfo","error","remember","userRegister","console","log","cart","shippingAddress","StoreProvider","props","dispatch","value","children"],"mappings":"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","sourcesContent":["import { createContext } from \"react\";\nimport useReducerWithThunk from \"use-reducer-thunk\";\nimport products from \"../json/products.json\"\nimport Cookie from \"js-cookie\"\nimport { \n    SET_PAGE_TITLE,\n    SET_NAVBAR_ACTIVEITEM,\n    ADD_CART_ITEM,\n    REMOVE_CART_ITEM,\n    SET_PRODUCT_DETAIL,\n\n    BEGIN_LOGIN_REQUEST,\n   SUCCESS_LOGIN_REQUEST,\n   FAIL_LOGIN_REQUEST,\n   LOGOUT_REQUEST,\n   REMEMBER_LOGIN,\n\n   BEGIN_REGISTER_REQUEST,\n   SUCCESS_REGISTER_REQUEST,\n   FAIL_REGISTER_REQUEST,\n\n   SAVE_SHIPPING_ADDRESS\n } from \"../utils/constants\"\n \n\n export const StoreContext = createContext();\n let cartItems = Cookie.getJSON(\"cartItems\")\n ? JSON.parse(localStorage.getItem(\"cartItems\"))\n  : [];\n\nconst initialState = {\n    page: {\n       title: \"Your Home\",\n       products,\n    },\n    navBar: {\n      activeItem: \"/\",\n      },\n      cartItems,\n      productDetail: {\n      product: {\n         image:[],\n         color:[]\n      },\n      qty: 1,\n      col:'None',\n      colNum:0\n  },\n };\n \n function reducer(state, action) {\n    switch (action.type) {\n       case SET_PAGE_TITLE:\n          return {\n             ...state,\n             page: {\n                ...state.page,\n                title: action.payload,\n             },\n          };\n          case SET_NAVBAR_ACTIVEITEM:\n            return {\n               ...state,\n               navBar: {\n                  activeItem: action.payload\n               }\n            };\n\n            case ADD_CART_ITEM:\n                const item = action.payload;\n                const product = state.cartItems.find((x) => x.id === item.id);\n                if (product) {\n                   cartItems = state.cartItems.map((x) =>\n                      x.id === product.id ? item : x\n                   );\n                   return { ...state, cartItems };\n                }\n                cartItems = [...state.cartItems, item];\n                return { ...state, cartItems };\n             case REMOVE_CART_ITEM:\n                cartItems = state.cartItems.filter((x) => x.id !== action.payload);\n                return { ...state, cartItems };\n               case SET_PRODUCT_DETAIL:\n                  return { ...state, productDetail:action.payload };\n                  \n                  case BEGIN_LOGIN_REQUEST:\n                     return { ...state, userSignin: { ...state.userSignin, loading: true } };\n                   case SUCCESS_LOGIN_REQUEST:\n                     return {\n                       ...state,\n                       userSignin: {\n                         ...state.userSignin,\n                         loading: false,\n                         userInfo: action.payload,\n                         error: \"\",\n                       },\n                     };\n                   case FAIL_LOGIN_REQUEST:\n                     return {\n                       ...state,\n                       userSignin: {\n                         ...state.userSignin,\n                         loading: false,\n                         userInfo: null,\n                         error: action.payload,\n                       },\n                     };\n                     case LOGOUT_REQUEST:\n                        cartItems = [];\n                        return {\n                          ...state,\n                          userSignin: {\n                            ...state.userSignin,\n                            userInfo: null,\n                          },\n                        };\n                      case REMEMBER_LOGIN:\n                        return {\n                          ...state,\n                          userSignin: {\n                            ...state.userSignin,\n                            remember: action.payload,\n                          },\n                        };\n                  \n                  \n                  case BEGIN_REGISTER_REQUEST:\n                     return {\n                       ...state,\n                       userRegister: { ...state.userRegister, loading: true },\n                     };\n                   case SUCCESS_REGISTER_REQUEST:\n                     return {\n                       ...state,\n                       userRegister: {\n                         ...state.userRegister,\n                         loading: false,\n                         userInfo: action.payload,\n                         error: \"\",\n                       },\n                       userSignin: {\n                         ...state.userSignin,\n                         userInfo: action.payload,\n                       },\n                     };\n                   case FAIL_REGISTER_REQUEST:\n                     return {\n                       ...state,\n                       userRegister: {\n                         ...state.userRegister,\n                         loading: false,\n                         userInfo: null,\n                         error: action.payload,\n                       },\n                     };\n                     case SAVE_SHIPPING_ADDRESS:\n                        console.log('action.payload.shippingAddress = ')\n                        console.log(action.payload)\n                        return { ...state, cart: { ...state.cart, shippingAddress: action.payload } };\n             default:\n                return state;\n          }\n       }\nexport function StoreProvider(props) {\n   const [state, dispatch] = useReducerWithThunk(\n      reducer,\n      initialState,\n      \"example\"\n    );\n    const value = { state, dispatch };\n\n   return (\n      <StoreContext.Provider value={value}>\n         {props.children}\n      </StoreContext.Provider>\n   );\n }"]},"metadata":{},"sourceType":"module"}